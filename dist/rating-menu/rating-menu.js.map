{"version":3,"sources":["../../src/rating-menu/rating-menu.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EAAE,SAAA,EAAW,KAAA,EAAO,MAAA,EAAQ,WAAA,EAAY,MAAO,eAAA,CAAgB;AACtE,OAAO,EAAE,iBAAA,EAAkB,MAAO,gCAAA,CAAiC;AACnE,OAAO,EAAE,IAAA,EAAK,MAAO,WAAA,CAAY;AAEjC,OAAO,EAAE,UAAA,EAAW,MAAO,gBAAA,CAAiB;AAC5C,OAAO,EAAE,aAAA,EAAc,MAAO,yCAAA,CAA0C;AAUxE;IAAqC,mCAAU;IAe7C,yBACU,UAAkB,EAC1B,cAA6B;QAF/B,YAIE,kBAAM,cAAc,EAAE,YAAY,CAAC,SACpC;QAJS,gBAAU,GAAV,UAAU,CAAQ;QAf5B,iBAAiB;QACT,gBAAU,GAAW,MAAM,CAAC;QAI5B,SAAG,GAAY,CAAC,CAAC;QAElB,WAAK,GAAoB;YAC9B,SAAS,EAAE,IAAI;YACf,YAAY,EAAE,KAAK;YACnB,KAAK,EAAE,EAAE;YACT,MAAM,EAAE,IAAI;SACb,CAAC;;IAOF,CAAC;IAEM,kCAAQ,GAAf;QACE,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE;YACnC,aAAa,EAAE,IAAI,CAAC,aAAa;YACjC,GAAG,EAAE,IAAI,CAAC,GAAG;SACd,CAAC,CAAC;QACH,iBAAM,QAAQ,WAAE,CAAC;IACnB,CAAC;IACI,0BAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;oBACxB,QAAQ,EAAE,oBAAoB;oBAC9B,QAAQ,EAAE,6sEAiET;iBACF,EAAG,EAAE;KACL,CAAC;IACF,kBAAkB;IACX,8BAAc,GAAmE,cAAM,OAAA;QAC9F,EAAC,IAAI,EAAE,MAAM,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,WAAW,EAAG,EAAE,EAAG,EAAC;QACvE,EAAC,IAAI,EAAE,aAAa,GAAG;KACtB,EAH6F,CAG7F,CAAC;IACK,8BAAc,GAA2C;QAChE,YAAY,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QAChC,eAAe,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QACnC,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;KACxB,CAAC;IACF,sBAAC;CA9GD,AA8GC,CA9GoC,UAAU,GA8G9C;SA9GY,eAAe","file":"rating-menu.js","sourceRoot":"","sourcesContent":["import { Component, Input, Inject, PLATFORM_ID } from \"@angular/core\";\nimport { connectStarRating } from \"instantsearch.js/es/connectors\";\nimport { noop } from \"lodash-es\";\n\nimport { BaseWidget } from \"../base-widget\";\nimport { NgAisInstance } from \"../instantsearch/instantsearch-instance\";\n\nexport type RatingMenuState = {\n  createURL: Function;\n  hasNoResults: boolean;\n  items: {}[];\n  refine: Function;\n};\n\n\nexport class NgAisRatingMenu extends BaseWidget {\n  // render options\n   public andUpLabel: string = \"& Up\";\n\n  // connectors options\n   public attributeName: string;\n   public max?: number = 5;\n\n  public state: RatingMenuState = {\n    createURL: noop,\n    hasNoResults: false,\n    items: [],\n    refine: noop\n  };\n\n  constructor(\n     public platformId: Object,\n    searchInstance: NgAisInstance\n  ) {\n    super(searchInstance, \"RatingMenu\");\n  }\n\n  public ngOnInit() {\n    this.createWidget(connectStarRating, {\n      attributeName: this.attributeName,\n      max: this.max\n    });\n    super.ngOnInit();\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: \"ng-ais-rating-menu\",\n  template: `\n    <div [class]=\"cx()\">\n      <ng-ais-header [header]=\"header\" [className]=\"cx('header')\"></ng-ais-header>\n\n      <div [class]=\"cx('body')\">\n        <svg style=\"display:none;\">\n          <symbol\n            id=\"ais-StarRating-starSymbol\"\n            viewBox=\"0 0 24 24\"\n            width=\"24\"\n            height=\"24\"\n          >\n            <path d=\"M12 .288l2.833 8.718h9.167l-7.417 5.389 2.833 8.718-7.416-5.388-7.417 5.388 2.833-8.718-7.416-5.389h9.167z\"/>\n          </symbol>\n          <symbol\n            id=\"ais-StarRating-starEmptySymbol\"\n            viewBox=\"0 0 24 24\"\n            width=\"24\"\n            height=\"24\"\n          >\n            <path d=\"M12 6.76l1.379 4.246h4.465l-3.612 2.625 1.379 4.246-3.611-2.625-3.612 2.625 1.379-4.246-3.612-2.625h4.465l1.38-4.246zm0-6.472l-2.833 8.718h-9.167l7.416 5.389-2.833 8.718 7.417-5.388 7.416 5.388-2.833-8.718 7.417-5.389h-9.167l-2.833-8.718z\"/>\n          </symbol>\n        </svg>\n\n        <ul [class]=\"cx('list')\">\n          <li\n            *ngFor=\"let item of state.items\"\n            [class]=\"cx('item') + (item.isRefined ? cx('item', 'selected') : '')\"\n          >\n            <button\n              [class]=\"cx('button')\"\n              [attr.aria-label]=\"item.name + ' stars & up'\"\n            >\n              <svg\n                *ngFor=\"let star of item.stars\"\n                [ngClass]=\"cx('starIcon')\"\n                aria-hidden=\"true\"\n              >\n                <use\n                  *ngIf=\"star\"\n                  xlink:href=\"#ais-StarRating-starSymbol\"\n                >\n                </use>\n\n                <use\n                  *ngIf=\"!star\"\n                  xlink:href=\"#ais-StarRating-starEmptySymbol\"\n                >\n                </use>\n              </svg>\n\n              <span [class]=\"cx('label')\" aria-hidden=\"true\">\n                {{andUpLabel}}\n              </span>\n\n              <span [class]=\"cx('count')\">\n                {{item.count}}\n              </span>\n            </button>\n          </li>\n        </ul>\n      </div>\n\n      <ng-ais-footer [footer]=\"footer\" [className]=\"cx('footer')\"></ng-ais-footer>\n    </div>\n  `\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID, ] }, ]},\n{type: NgAisInstance, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'andUpLabel': [{ type: Input },],\n'attributeName': [{ type: Input },],\n'max': [{ type: Input },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}